<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BarberTime - Sistema de Agendamento</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#B8860B',
                        'primary-dark': '#9A7209'
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <!-- Header -->
    <header class="bg-primary text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <img src="img/barbe1.jpg" alt="Logo BarberTime" class="w-10 h-10 rounded-full object-cover">
                    <h1 class="text-2xl font-bold">Delfino Barber Club</h1>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <button onclick="showSection('dashboard')" class="nav-btn hover:text-gray-200 transition-colors">
                        <i class="fas fa-home mr-2"></i>Dashboard
                    </button>
                    <button onclick="showSection('schedule')" class="nav-btn hover:text-gray-200 transition-colors">
                        <i class="fas fa-calendar-alt mr-2"></i>Agendar
                    </button>
                    <button onclick="showSection('appointments')" class="nav-btn hover:text-gray-200 transition-colors">
                        <i class="fas fa-clock mr-2"></i>Agendamentos
                    </button>
                    <button onclick="showSection('barbers')" class="nav-btn hover:text-gray-200 transition-colors">
                        <i class="fas fa-users mr-2"></i>Cabeleireiros
                    </button>
                    <button onclick="showSection('notifications')"
                        class="nav-btn hover:text-gray-200 transition-colors relative">
                        <i class="fas fa-bell mr-2"></i>Notificações
                        <span id="notification-badge"
                            class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                    </button>
                </nav>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <button onclick="toggleNotifications()"
                            class="relative p-2 hover:bg-white/10 rounded-lg transition-colors">
                            <i class="fas fa-bell text-xl"></i>
                            <span id="header-notification-count"
                                class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                        </button>
                    </div>
                    <button onclick="toggleMobileMenu()" class="md:hidden">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden bg-primary-dark text-white">
        <div class="px-4 py-2 space-y-2">
            <button onclick="showSection('dashboard')" class="block w-full text-left py-2 hover:bg-white/10 rounded">
                <i class="fas fa-home mr-2"></i>Dashboard
            </button>
            <button onclick="showSection('schedule')" class="block w-full text-left py-2 hover:bg-white/10 rounded">
                <i class="fas fa-calendar-alt mr-2"></i>Agendar
            </button>
            <button onclick="showSection('appointments')" class="block w-full text-left py-2 hover:bg-white/10 rounded">
                <i class="fas fa-clock mr-2"></i>Agendamentos
            </button>
            <button onclick="showSection('barbers')" class="block w-full text-left py-2 hover:bg-white/10 rounded">
                <i class="fas fa-users mr-2"></i>Cabeleireiros
            </button>
            <button onclick="showSection('notifications')"
                class="block w-full text-left py-2 hover:bg-white/10 rounded">
                <i class="fas fa-bell mr-2"></i>Notificações
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Dashboard Section -->
        <div id="dashboard-section" class="section">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">Dashboard</h2>
                <p class="text-gray-600 dark:text-gray-300">Visão geral do sistema de agendamentos</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-blue-100">Agendamentos Hoje</p>
                            <p id="appointments-today" class="text-3xl font-bold">0</p>
                        </div>
                        <i class="fas fa-calendar-day text-3xl text-blue-200"></i>
                    </div>
                </div>
                <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-green-100">Cabeleireiros Ativos</p>
                            <p id="active-barbers" class="text-3xl font-bold">0</p>
                        </div>
                        <i class="fas fa-users text-3xl text-green-200"></i>
                    </div>
                </div>
                <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-purple-100">Horários Livres</p>
                            <p id="available-slots" class="text-3xl font-bold">0</p>
                        </div>
                        <i class="fas fa-clock text-3xl text-purple-200"></i>
                    </div>
                </div>
                <div class="bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-orange-100">Total do Mês</p>
                            <p id="month-total" class="text-3xl font-bold">R$ 0</p>
                        </div>
                        <i class="fas fa-chart-line text-3xl text-orange-200"></i>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-4">
                        <i class="fas fa-chart-bar mr-2 text-primary"></i>Agendamentos por Cabeleireiro
                    </h3>
                    <div id="barber-chart" class="space-y-3">
                        <!-- Charts will be populated by JS -->
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-4">
                        <i class="fas fa-calendar-check mr-2 text-green-500"></i>Próximos Agendamentos
                    </h3>
                    <div id="upcoming-appointments" class="space-y-3">
                        <p class="text-gray-500 dark:text-gray-400">Nenhum agendamento próximo</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Schedule Section -->
        <div id="schedule-section" class="section hidden">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">Agendar Horário</h2>
                <p class="text-gray-600 dark:text-gray-300">Selecione um cabeleireiro e horário disponível</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Booking Form -->
                <div class="lg:col-span-1">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-6">
                            <i class="fas fa-user-edit mr-2 text-primary"></i>Dados do Cliente
                        </h3>

                        <form id="booking-form" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Nome
                                    Completo</label>
                                <input type="text" id="client-name" required
                                    class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                            </div>
                            <div>
                                <label
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Telefone</label>
                                <input type="tel" id="client-phone" required
                                    class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Tipo de
                                    Serviço</label>
                                <select id="service-type" required
                                    class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                                    <option value="">Selecione o serviço</option>
                                    <option value="Corte Simples" data-price="25">Corte Simples - R$ 25</option>
                                    <option value="Corte + Barba" data-price="35">Corte + Barba - R$ 35</option>
                                    <option value="Barba" data-price="15">Barba - R$ 15</option>
                                    <option value="Corte Premium" data-price="45">Corte Premium - R$ 45</option>
                                    <option value="Sobrancelha" data-price="10">Sobrancelha - R$ 10</option>
                                </select>
                            </div>
                            <div>
                                <label
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Observações</label>
                                <textarea id="client-notes" rows="3"
                                    class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base"
                                    placeholder="Observações especiais..."></textarea>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Available Slots -->
                <div class="lg:col-span-2">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-6">
                            <i class="fas fa-calendar-alt mr-2 text-primary"></i>Horários Disponíveis
                        </h3>

                        <!-- Date Selector -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Selecione a
                                Data</label>
                            <input type="date" id="selected-date"
                                class="p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                        </div>

                        <!-- Barbers and Time Slots -->
                        <div id="time-slots-grid" class="space-y-6">
                            <!-- Time slots will be populated by JS -->
                        </div>

                        <div class="mt-6 pt-6 border-t border-gray-200 dark:border-gray-700">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-lg font-semibold text-gray-800 dark:text-white">Total: <span
                                            id="service-price">R$ 0,00</span></p>
                                    <p class="text-sm text-gray-600 dark:text-gray-300" id="selected-slot-info">Nenhum
                                        horário selecionado</p>
                                </div>
                                <button onclick="confirmBooking()" id="confirm-booking-btn" disabled
                                    class="bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed">
                                    <i class="fas fa-check mr-2"></i>Confirmar Agendamento
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Appointments Section -->
        <div id="appointments-section" class="section hidden">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">Gerenciar Agendamentos</h2>
                <p class="text-gray-600 dark:text-gray-300">Visualize e gerencie todos os agendamentos</p>
            </div>

            <!-- Filters -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Data</label>
                        <input type="date" id="filter-date"
                            class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                    </div>
                    <div>
                        <label
                            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Cabeleireiro</label>
                        <select id="filter-barber"
                            class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                            <option value="">Todos os cabeleireiros</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Status</label>
                        <select id="filter-status"
                            class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                            <option value="">Todos os status</option>
                            <option value="agendado">Agendado</option>
                            <option value="concluido">Concluído</option>
                            <option value="cancelado">Cancelado</option>
                        </select>
                    </div>
                    <div class="flex items-end">
                        <button onclick="applyAppointmentFilters()"
                            class="w-full bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-lg transition-colors">
                            <i class="fas fa-filter mr-2"></i>Filtrar
                        </button>
                    </div>
                </div>
            </div>

            <!-- Appointments List -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50 dark:bg-gray-700">
                            <tr>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                    Cliente</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                    Data/Hora</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                    Cabeleireiro</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                    Serviço</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                    Status</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                    Ações</th>
                            </tr>
                        </thead>
                        <tbody id="appointments-table-body"
                            class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                            <!-- Appointments will be populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Barbers Section -->
        <div id="barbers-section" class="section hidden">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">Gerenciar Cabeleireiros</h2>
                <p class="text-gray-600 dark:text-gray-300">Adicione e gerencie cabeleireiros</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Add Barber Form -->
                <div class="lg:col-span-1">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-6">
                            <i class="fas fa-user-plus mr-2 text-primary"></i>Adicionar Cabeleireiro
                        </h3>

                        <form id="barber-form" class="space-y-4">
                            <div>
                                <label
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Nome</label>
                                <input type="text" id="barber-name" required
                                    class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                            </div>
                            <div>
                                <label
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Telefone</label>
                                <input type="tel" id="barber-phone" required
                                    class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                            </div>
                            <div>
                                <label
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Especialidades</label>
                                <textarea id="barber-specialties" rows="3"
                                    class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base"
                                    placeholder="Ex: Cortes modernos, barbas..."></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Horário
                                    de Trabalho</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <input type="time" id="barber-start-time" value="08:00"
                                        class="p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                                    <input type="time" id="barber-end-time" value="18:00"
                                        class="p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 dark:text-white text-base">
                                </div>
                            </div>
                            <button type="submit"
                                class="w-full bg-primary hover:bg-primary-dark text-white px-4 py-3 rounded-lg transition-colors">
                                <i class="fas fa-plus mr-2"></i>Adicionar Cabeleireiro
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Barbers List -->
                <div class="lg:col-span-2">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-6">
                            <i class="fas fa-users mr-2 text-primary"></i>Cabeleireiros Cadastrados
                        </h3>

                        <div id="barbers-list" class="space-y-4">
                            <!-- Barbers will be populated by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications Section -->
        <div id="notifications-section" class="section hidden">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">Central de Notificações</h2>
                <p class="text-gray-600 dark:text-gray-300">Acompanhe todas as notificações do sistema</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Notification Settings -->
                <div class="lg:col-span-1">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-6">
                            <i class="fas fa-cog mr-2 text-primary"></i>Configurações
                        </h3>

                        <div class="space-y-4">
                            <label class="flex items-center space-x-3">
                                <input type="checkbox" id="notify-new-appointments" checked
                                    class="rounded text-primary focus:ring-primary">
                                <span class="text-gray-700 dark:text-gray-300">Novos agendamentos</span>
                            </label>
                            <label class="flex items-center space-x-3">
                                <input type="checkbox" id="notify-cancellations" checked
                                    class="rounded text-primary focus:ring-primary">
                                <span class="text-gray-700 dark:text-gray-300">Cancelamentos</span>
                            </label>
                            <label class="flex items-center space-x-3">
                                <input type="checkbox" id="notify-reminders" checked
                                    class="rounded text-primary focus:ring-primary">
                                <span class="text-gray-700 dark:text-gray-300">Lembretes</span>
                            </label>
                            <button onclick="clearAllNotifications()"
                                class="w-full bg-red-500 hover:bg-red-600 text-white px-4 py-3 rounded-lg transition-colors">
                                <i class="fas fa-trash mr-2"></i>Limpar Todas
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Notifications List -->
                <div class="lg:col-span-2">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-6">
                            <i class="fas fa-bell mr-2 text-primary"></i>Notificações Recentes
                        </h3>

                        <div id="notifications-list" class="space-y-4 max-h-96 overflow-y-auto">
                            <p class="text-gray-500 dark:text-gray-400 text-center py-8">Nenhuma notificação</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Notification Dropdown -->
    <div id="notification-dropdown"
        class="fixed top-16 right-4 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 hidden">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Notificações</h3>
        </div>
        <div id="notification-dropdown-list" class="max-h-64 overflow-y-auto">
            <p class="text-gray-500 dark:text-gray-400 text-center py-4">Nenhuma notificação</p>
        </div>
        <div class="p-3 border-t border-gray-200 dark:border-gray-700">
            <button onclick="showSection('notifications')"
                class="w-full text-center text-primary hover:text-primary-dark transition-colors text-sm">
                Ver todas as notificações
            </button>
        </div>
    </div>

    <!-- Custom Modal -->
    <div id="custom-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
            <div class="text-center">
                <div id="modal-icon" class="mx-auto mb-4 text-4xl"></div>
                <h3 id="modal-title" class="text-lg font-semibold text-gray-800 dark:text-white mb-2"></h3>
                <p id="modal-message" class="text-gray-600 dark:text-gray-300 mb-6"></p>
                <div id="modal-buttons" class="flex justify-center space-x-3">
                    <button id="modal-confirm"
                        class="px-4 py-2 bg-primary text-white hover:bg-primary-dark rounded transition-colors">OK</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Data storage
        let barbers = [
            {
                id: 1,
                name: "João Silva",
                phone: "(11) 99999-1111",
                specialties: "Cortes modernos, degradês",
                startTime: "08:00",
                endTime: "18:00",
                active: true
            },
            {
                id: 2,
                name: "Pedro Santos",
                phone: "(11) 99999-2222",
                specialties: "Barbas, cortes clássicos",
                startTime: "09:00",
                endTime: "19:00",
                active: true
            },
            {
                id: 3,
                name: "Carlos Lima",
                phone: "(11) 99999-3333",
                specialties: "Cortes premium, styling",
                startTime: "10:00",
                endTime: "20:00",
                active: true
            }
        ];

        let appointments = [];
        let notifications = [];
        let selectedSlot = null;

        // Time slots (30-minute intervals)
        const timeSlots = [
            "08:00", "08:30", "09:00", "09:30", "10:00", "10:30",
            "11:00", "11:30", "12:00", "12:30", "13:00", "13:30",
            "14:00", "14:30", "15:00", "15:30", "16:00", "16:30",
            "17:00", "17:30", "18:00", "18:30", "19:00", "19:30"
        ];

        // Navigation
        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionName + '-section').classList.remove('hidden');

            // Close mobile menu
            document.getElementById('mobile-menu').classList.add('hidden');

            // Update data when showing sections
            if (sectionName === 'dashboard') {
                updateDashboard();
            } else if (sectionName === 'schedule') {
                initializeScheduleSection();
            } else if (sectionName === 'appointments') {
                displayAppointments();
                updateFilterBarbers();
            } else if (sectionName === 'barbers') {
                displayBarbers();
            } else if (sectionName === 'notifications') {
                displayNotifications();
            }
        }

        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }

        function toggleNotifications() {
            const dropdown = document.getElementById('notification-dropdown');
            dropdown.classList.toggle('hidden');
            updateNotificationDropdown();
        }

        // Custom modal functions
        function showModal(title, message, type = 'info') {
            const modal = document.getElementById('custom-modal');
            const modalIcon = document.getElementById('modal-icon');
            const modalTitle = document.getElementById('modal-title');
            const modalMessage = document.getElementById('modal-message');

            modalTitle.textContent = title;
            modalMessage.textContent = message;

            // Set icon based on type
            switch (type) {
                case 'success':
                    modalIcon.innerHTML = '<i class="fas fa-check-circle text-green-500"></i>';
                    break;
                case 'error':
                    modalIcon.innerHTML = '<i class="fas fa-exclamation-circle text-red-500"></i>';
                    break;
                case 'warning':
                    modalIcon.innerHTML = '<i class="fas fa-exclamation-triangle text-yellow-500"></i>';
                    break;
                default:
                    modalIcon.innerHTML = '<i class="fas fa-info-circle text-blue-500"></i>';
            }

            modal.classList.remove('hidden');

            // Close on confirm button click
            document.getElementById('modal-confirm').onclick = () => {
                modal.classList.add('hidden');
            };
        }

        // Barber management
        function addBarber(event) {
            event.preventDefault();

            const name = document.getElementById('barber-name').value;
            const phone = document.getElementById('barber-phone').value;
            const specialties = document.getElementById('barber-specialties').value;
            const startTime = document.getElementById('barber-start-time').value;
            const endTime = document.getElementById('barber-end-time').value;

            if (!name || !phone) {
                showModal('Erro', 'Por favor, preencha todos os campos obrigatórios.', 'error');
                return;
            }

            const barber = {
                id: Date.now(),
                name,
                phone,
                specialties,
                startTime,
                endTime,
                active: true
            };

            barbers.push(barber);
            showModal('Sucesso', 'Cabeleireiro adicionado com sucesso!', 'success');
            document.getElementById('barber-form').reset();
            displayBarbers();

            addNotification('Novo cabeleireiro adicionado', `${name} foi adicionado ao sistema`, 'info');
        }

        function toggleBarberStatus(barberId) {
            const barber = barbers.find(b => b.id === barberId);
            if (barber) {
                barber.active = !barber.active;
                displayBarbers();

                const status = barber.active ? 'ativado' : 'desativado';
                addNotification('Status alterado', `${barber.name} foi ${status}`, 'info');
                showModal('Sucesso', `Cabeleireiro ${status} com sucesso!`, 'success');
            }
        }

        function deleteBarber(barberId) {
            showConfirmDialog('Tem certeza que deseja excluir este cabeleireiro?', () => {
                const barberIndex = barbers.findIndex(b => b.id === barberId);
                if (barberIndex !== -1) {
                    const barberName = barbers[barberIndex].name;
                    barbers.splice(barberIndex, 1);
                    displayBarbers();
                    addNotification('Cabeleireiro removido', `${barberName} foi removido do sistema`, 'warning');
                    showModal('Sucesso', 'Cabeleireiro excluído com sucesso!', 'success');
                }
            });
        }

        function displayBarbers() {
            const barbersList = document.getElementById('barbers-list');

            if (barbers.length === 0) {
                barbersList.innerHTML = '<p class="text-gray-500 dark:text-gray-400 text-center py-8">Nenhum cabeleireiro cadastrado</p>';
                return;
            }

            barbersList.innerHTML = barbers.map(barber => `
                <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg ${barber.active ? 'bg-white dark:bg-gray-800' : 'bg-gray-100 dark:bg-gray-700'}">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h4 class="text-lg font-semibold text-gray-800 dark:text-white">${barber.name}</h4>
                            <p class="text-gray-600 dark:text-gray-300"><i class="fas fa-phone mr-2"></i>${barber.phone}</p>
                            <p class="text-gray-600 dark:text-gray-300"><i class="fas fa-clock mr-2"></i>${barber.startTime} às ${barber.endTime}</p>
                            ${barber.specialties ? `<p class="text-gray-600 dark:text-gray-300"><i class="fas fa-star mr-2"></i>${barber.specialties}</p>` : ''}
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="px-2 py-1 rounded-full text-xs font-medium ${barber.active ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'}">
                                ${barber.active ? 'Ativo' : 'Inativo'}
                            </span>
                            <button onclick="toggleBarberStatus(${barber.id})" class="p-2 rounded-lg ${barber.active ? 'bg-yellow-500 hover:bg-yellow-600' : 'bg-green-500 hover:bg-green-600'} text-white transition-colors">
                                <i class="fas ${barber.active ? 'fa-pause' : 'fa-play'}"></i>
                            </button>
                            <button onclick="deleteBarber(${barber.id})" class="p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Schedule management
        function initializeScheduleSection() {
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('selected-date').value = today;
            document.getElementById('selected-date').min = today;

            generateTimeSlots();
            updateServicePrice();
        }

        function generateTimeSlots() {
            const selectedDate = document.getElementById('selected-date').value;
            const timeSlotsGrid = document.getElementById('time-slots-grid');

            if (!selectedDate) {
                timeSlotsGrid.innerHTML = '<p class="text-gray-500 dark:text-gray-400 text-center py-8">Selecione uma data</p>';
                return;
            }

            const activeBarbers = barbers.filter(b => b.active);

            if (activeBarbers.length === 0) {
                timeSlotsGrid.innerHTML = '<p class="text-gray-500 dark:text-gray-400 text-center py-8">Nenhum cabeleireiro ativo</p>';
                return;
            }

            timeSlotsGrid.innerHTML = activeBarbers.map(barber => {
                const availableSlots = getAvailableSlots(barber, selectedDate);

                return `
                    <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                        <h4 class="text-lg font-semibold text-gray-800 dark:text-white mb-3">${barber.name}</h4>
                        <div class="grid grid-cols-4 md:grid-cols-6 gap-2">
                            ${availableSlots.map(slot => `
                                <button onclick="selectTimeSlot(${barber.id}, '${slot.time}', '${selectedDate}')" 
                                        class="p-2 text-sm rounded-lg border transition-colors ${slot.available
                        ? 'border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-primary hover:text-white'
                        : 'border-red-300 bg-red-100 text-red-500 cursor-not-allowed'
                    }" 
                                        ${!slot.available ? 'disabled' : ''}>
                                    ${slot.time}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function getAvailableSlots(barber, date) {
            const startTime = barber.startTime;
            const endTime = barber.endTime;

            return timeSlots.filter(time => time >= startTime && time <= endTime).map(time => {
                const isBooked = appointments.some(apt =>
                    apt.barberId === barber.id &&
                    apt.date === date &&
                    apt.time === time &&
                    apt.status === 'agendado'
                );

                return {
                    time,
                    available: !isBooked
                };
            });
        }

        function selectTimeSlot(barberId, time, date) {
            // Clear previous selection
            document.querySelectorAll('.time-slot-selected').forEach(el => {
                el.classList.remove('time-slot-selected', 'bg-primary', 'text-white');
            });

            // Select new slot
            event.target.classList.add('time-slot-selected', 'bg-primary', 'text-white');

            selectedSlot = { barberId, time, date };

            const barber = barbers.find(b => b.id === barberId);
            document.getElementById('selected-slot-info').textContent =
                `${barber.name} - ${formatDate(date)} às ${time}`;

            document.getElementById('confirm-booking-btn').disabled = false;
        }

        function updateServicePrice() {
            const serviceSelect = document.getElementById('service-type');
            const selectedOption = serviceSelect.options[serviceSelect.selectedIndex];
            const price = selectedOption.getAttribute('data-price') || 0;

            document.getElementById('service-price').textContent = `R$ ${parseFloat(price).toFixed(2)}`;
        }

        function confirmBooking() {
            const clientName = document.getElementById('client-name').value;
            const clientPhone = document.getElementById('client-phone').value;
            const serviceType = document.getElementById('service-type').value;
            const clientNotes = document.getElementById('client-notes').value;

            if (!clientName || !clientPhone || !serviceType || !selectedSlot) {
                showModal('Erro', 'Por favor, preencha todos os campos obrigatórios e selecione um horário.', 'error');
                return;
            }

            const serviceSelect = document.getElementById('service-type');
            const selectedOption = serviceSelect.options[serviceSelect.selectedIndex];
            const price = parseFloat(selectedOption.getAttribute('data-price'));

            const appointment = {
                id: Date.now(),
                clientName,
                clientPhone,
                serviceType,
                price,
                notes: clientNotes,
                barberId: selectedSlot.barberId,
                barberName: barbers.find(b => b.id === selectedSlot.barberId).name,
                date: selectedSlot.date,
                time: selectedSlot.time,
                status: 'agendado',
                createdAt: new Date().toISOString()
            };

            appointments.push(appointment);

            // Clear form
            document.getElementById('booking-form').reset();
            selectedSlot = null;
            document.getElementById('selected-slot-info').textContent = 'Nenhum horário selecionado';
            document.getElementById('confirm-booking-btn').disabled = true;
            document.getElementById('service-price').textContent = 'R$ 0,00';

            // Regenerate time slots
            generateTimeSlots();

            // Add notification
            addNotification(
                'Novo agendamento',
                `${clientName} agendou ${serviceType} com ${appointment.barberName} para ${formatDate(selectedSlot.date)} às ${selectedSlot.time}`,
                'success'
            );

            showModal('Sucesso', 'Agendamento realizado com sucesso!', 'success');
        }

        // Appointment management
        function displayAppointments() {
            const tbody = document.getElementById('appointments-table-body');

            if (appointments.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="px-6 py-4 text-center text-gray-500 dark:text-gray-400">Nenhum agendamento encontrado</td></tr>';
                return;
            }

            tbody.innerHTML = appointments.map(appointment => `
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div>
                            <div class="text-sm font-medium text-gray-900 dark:text-white">${appointment.clientName}</div>
                            <div class="text-sm text-gray-500 dark:text-gray-400">${appointment.clientPhone}</div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900 dark:text-white">${formatDate(appointment.date)}</div>
                        <div class="text-sm text-gray-500 dark:text-gray-400">${appointment.time}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white">
                        ${appointment.barberName}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900 dark:text-white">${appointment.serviceType}</div>
                        <div class="text-sm text-gray-500 dark:text-gray-400">R$ ${appointment.price.toFixed(2)}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusClass(appointment.status)}">
                            ${getStatusText(appointment.status)}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2">
                        ${appointment.status === 'agendado' ? `
                            <button onclick="updateAppointmentStatus(${appointment.id}, 'concluido')" class="text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300">
                                <i class="fas fa-check mr-1"></i>Concluir
                            </button>
                            <button onclick="updateAppointmentStatus(${appointment.id}, 'cancelado')" class="text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300">
                                <i class="fas fa-times mr-1"></i>Cancelar
                            </button>
                        ` : ''}
                    </td>
                </tr>
            `).join('');
        }

        function updateAppointmentStatus(appointmentId, newStatus) {
            const appointment = appointments.find(a => a.id === appointmentId);
            if (appointment) {
                appointment.status = newStatus;
                displayAppointments();

                const statusText = newStatus === 'concluido' ? 'concluído' : 'cancelado';
                addNotification(
                    `Agendamento ${statusText}`,
                    `Agendamento de ${appointment.clientName} foi ${statusText}`,
                    newStatus === 'concluido' ? 'success' : 'warning'
                );

                showModal('Sucesso', `Agendamento ${statusText} com sucesso!`, 'success');
            }
        }

        function getStatusClass(status) {
            switch (status) {
                case 'agendado':
                    return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';
                case 'concluido':
                    return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';
                case 'cancelado':
                    return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';
                default:
                    return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200';
            }
        }

        function getStatusText(status) {
            switch (status) {
                case 'agendado':
                    return 'Agendado';
                case 'concluido':
                    return 'Concluído';
                case 'cancelado':
                    return 'Cancelado';
                default:
                    return 'Desconhecido';
            }
        }

        function updateFilterBarbers() {
            const filterBarber = document.getElementById('filter-barber');
            filterBarber.innerHTML = '<option value="">Todos os cabeleireiros</option>' +
                barbers.map(barber => `<option value="${barber.id}">${barber.name}</option>`).join('');
        }

        function applyAppointmentFilters() {
            // This would implement filtering logic
            displayAppointments();
        }

        // Notification system
        function addNotification(title, message, type) {
            const notification = {
                id: Date.now(),
                title,
                message,
                type,
                timestamp: new Date().toISOString(),
                read: false
            };

            notifications.unshift(notification);
            updateNotificationBadges();
        }

        function updateNotificationBadges() {
            const unreadCount = notifications.filter(n => !n.read).length;
            const badge = document.getElementById('notification-badge');
            const headerBadge = document.getElementById('header-notification-count');

            if (unreadCount > 0) {
                badge.textContent = unreadCount;
                badge.classList.remove('hidden');
                headerBadge.textContent = unreadCount;
                headerBadge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
                headerBadge.classList.add('hidden');
            }
        }

        function displayNotifications() {
            const notificationsList = document.getElementById('notifications-list');

            if (notifications.length === 0) {
                notificationsList.innerHTML = '<p class="text-gray-500 dark:text-gray-400 text-center py-8">Nenhuma notificação</p>';
                return;
            }

            notificationsList.innerHTML = notifications.map(notification => `
                <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg ${notification.read ? 'bg-gray-50 dark:bg-gray-700' : 'bg-white dark:bg-gray-800'}">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <div class="flex items-center space-x-2">
                                <i class="fas ${getNotificationIcon(notification.type)} ${getNotificationColor(notification.type)}"></i>
                                <h4 class="font-semibold text-gray-800 dark:text-white">${notification.title}</h4>
                                ${!notification.read ? '<span class="w-2 h-2 bg-blue-500 rounded-full"></span>' : ''}
                            </div>
                            <p class="text-gray-600 dark:text-gray-300 mt-1">${notification.message}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">${formatTimestamp(notification.timestamp)}</p>
                        </div>
                        <button onclick="markAsRead(${notification.id})" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
            `).join('');

            // Mark all as read when viewing
            notifications.forEach(n => n.read = true);
            updateNotificationBadges();
        }

        function updateNotificationDropdown() {
            const dropdown = document.getElementById('notification-dropdown-list');
            const recentNotifications = notifications.slice(0, 5);

            if (recentNotifications.length === 0) {
                dropdown.innerHTML = '<p class="text-gray-500 dark:text-gray-400 text-center py-4">Nenhuma notificação</p>';
                return;
            }

            dropdown.innerHTML = recentNotifications.map(notification => `
                <div class="p-3 border-b border-gray-200 dark:border-gray-700 last:border-b-0 hover:bg-gray-50 dark:hover:bg-gray-700">
                    <div class="flex items-start space-x-2">
                        <i class="fas ${getNotificationIcon(notification.type)} ${getNotificationColor(notification.type)} mt-1"></i>
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-gray-800 dark:text-white truncate">${notification.title}</p>
                            <p class="text-xs text-gray-600 dark:text-gray-300 truncate">${notification.message}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">${formatTimestamp(notification.timestamp)}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function getNotificationIcon(type) {
            switch (type) {
                case 'success':
                    return 'fa-check-circle';
                case 'warning':
                    return 'fa-exclamation-triangle';
                case 'error':
                    return 'fa-exclamation-circle';
                default:
                    return 'fa-info-circle';
            }
        }

        function getNotificationColor(type) {
            switch (type) {
                case 'success':
                    return 'text-green-500';
                case 'warning':
                    return 'text-yellow-500';
                case 'error':
                    return 'text-red-500';
                default:
                    return 'text-blue-500';
            }
        }

        function markAsRead(notificationId) {
            const notification = notifications.find(n => n.id === notificationId);
            if (notification) {
                notification.read = true;
                displayNotifications();
                updateNotificationBadges();
            }
        }

        function clearAllNotifications() {
            showConfirmDialog('Tem certeza que deseja limpar todas as notificações?', () => {
                notifications = [];
                displayNotifications();
                updateNotificationBadges();
                showModal('Sucesso', 'Todas as notificações foram limpas!', 'success');
            });
        }

        // Dashboard
        function updateDashboard() {
            const today = new Date().toISOString().split('T')[0];
            const todayAppointments = appointments.filter(a => a.date === today && a.status === 'agendado');
            const activeBarberCount = barbers.filter(b => b.active).length;

            document.getElementById('appointments-today').textContent = todayAppointments.length;
            document.getElementById('active-barbers').textContent = activeBarberCount;

            // Calculate available slots for today
            let availableSlots = 0;
            barbers.filter(b => b.active).forEach(barber => {
                const slots = getAvailableSlots(barber, today);
                availableSlots += slots.filter(s => s.available).length;
            });
            document.getElementById('available-slots').textContent = availableSlots;

            // Calculate month total
            const currentMonth = new Date().getMonth();
            const currentYear = new Date().getFullYear();
            const monthTotal = appointments
                .filter(a => {
                    const appointmentDate = new Date(a.date);
                    return appointmentDate.getMonth() === currentMonth &&
                        appointmentDate.getFullYear() === currentYear &&
                        a.status === 'concluido';
                })
                .reduce((sum, a) => sum + a.price, 0);

            document.getElementById('month-total').textContent = `R$ ${monthTotal.toFixed(2)}`;

            // Update barber chart
            updateBarberChart();
            updateUpcomingAppointments();
        }

        function updateBarberChart() {
            const barberChart = document.getElementById('barber-chart');
            const barberAppointments = barbers.map(barber => {
                const count = appointments.filter(a => a.barberId === barber.id && a.status !== 'cancelado').length;
                return { name: barber.name, count };
            });

            const maxCount = Math.max(...barberAppointments.map(b => b.count), 1);

            barberChart.innerHTML = barberAppointments.map(barber => `
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-600 dark:text-gray-300">${barber.name}</span>
                    <div class="flex items-center space-x-2">
                        <div class="w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                            <div class="bg-primary h-2 rounded-full transition-all duration-500" style="width: ${(barber.count / maxCount) * 100}%"></div>
                        </div>
                        <span class="text-sm font-medium text-gray-800 dark:text-white w-8">${barber.count}</span>
                    </div>
                </div>
            `).join('');
        }

        function updateUpcomingAppointments() {
            const upcomingAppointments = document.getElementById('upcoming-appointments');
            const today = new Date();
            const upcoming = appointments
                .filter(a => new Date(a.date + ' ' + a.time) > today && a.status === 'agendado')
                .sort((a, b) => new Date(a.date + ' ' + a.time) - new Date(b.date + ' ' + b.time))
                .slice(0, 5);

            if (upcoming.length === 0) {
                upcomingAppointments.innerHTML = '<p class="text-gray-500 dark:text-gray-400">Nenhum agendamento próximo</p>';
                return;
            }

            upcomingAppointments.innerHTML = upcoming.map(appointment => `
                <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                    <div>
                        <p class="font-medium text-gray-800 dark:text-white">${appointment.clientName}</p>
                        <p class="text-sm text-gray-600 dark:text-gray-300">${appointment.serviceType}</p>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-800 dark:text-white">${formatDate(appointment.date)}</p>
                        <p class="text-sm text-gray-600 dark:text-gray-300">${appointment.time} - ${appointment.barberName}</p>
                    </div>
                </div>
            `).join('');
        }

        // Utility functions
        function formatDate(dateString) {
            const date = new Date(dateString + 'T00:00:00');
            return date.toLocaleDateString('pt-BR');
        }

        function formatTimestamp(timestamp) {
            const date = new Date(timestamp);
            return date.toLocaleString('pt-BR');
        }

        function showConfirmDialog(message, onConfirm) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <div class="text-center">
                        <i class="fas fa-exclamation-triangle text-4xl text-yellow-500 mb-4"></i>
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-2">Confirmação</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-6">${message}</p>
                        <div class="flex justify-center space-x-3">
                            <button onclick="this.closest('.fixed').remove()" class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">Cancelar</button>
                            <button onclick="this.closest('.fixed').remove(); (${onConfirm})()" class="px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded">Confirmar</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Event listeners
        document.getElementById('barber-form').addEventListener('submit', addBarber);
        document.getElementById('service-type').addEventListener('change', updateServicePrice);
        document.getElementById('selected-date').addEventListener('change', generateTimeSlots);

        // Close notification dropdown when clicking outside
        document.addEventListener('click', function (event) {
            const dropdown = document.getElementById('notification-dropdown');
            const button = event.target.closest('[onclick="toggleNotifications()"]');

            if (!dropdown.contains(event.target) && !button) {
                dropdown.classList.add('hidden');
            }
        });

        // Initialize
        updateDashboard();
        displayBarbers();
        initializeScheduleSection();
        updateNotificationBadges();
    </script>
</body>

</html>